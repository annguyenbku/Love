<!DOCTYPE html>

<html lang="vi">

<head>
  <title>Chỉnh sửa Tour</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../css/style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../css/bootstrap-4.3.1-dist/css/bootstrap.min.css" />
  <!-- Font Awesome 5.11.2 -->
  <link rel="stylesheet" href="../fonts/fontawesome-free-5.11.2-web/css/all.css" />
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/custom.css">
  <link rel="stylesheet" href="open-iconic-master/font/css/open-iconic-bootstrap.min.css" />
  <!-- <link rel="stylesheet" href="../https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
</head>

<body>
  <header id="main-header">
    <div class="header-top-bar">
      <div class="container">
        <div class="user">
          <a href="../login.html">Đăng nhập</a>|
          <a href="../register.html">Đăng ký</a>
        </div>
        <div class="cart">
          <a href=""><i class="fas fa-shopping-cart"></i> <span>Giỏ hàng</span></a>
        </div>
      </div>
    </div>
    <div class="header-bottom-bar">
      <div class="container">
        <div class="menu-icon">
          <span class="fas fa-bars"></span></div>
        <div class="logo">
          <a href="../index.html"><img src="../img/logo_header.png" alt=""></a>
        </div>
        <div class="nav-items">
          <ul>
            <li><a href="../index.html">Trang chủ</a></li>
            <li><a href="../tour-category.html">Tour</a></li>
            <li><a href="../contact.html">Liên hệ</a></li>
            <li><a href="../profile.html">Trang cá nhân</a></li>
            <li class="active dropdown">
              <!-- <a href="./admin.html">Bảng Điều Khiển</a> -->
              <a href="./admin.html" class="dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                Bảng Điều Khiển
              </a>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="manage-account.html">Quản Lý Tài Khoản</a>
                <a class="dropdown-item" href="../profile.html">Trang Cá Nhân</a>
                <hr>
                <a class="dropdown-item" href="./manage-tour.html">Quản Lý Tour</a>
                <a class="dropdown-item" href="./manage-location.html">Quản Lý Địa Điểm</a>
                <a class="dropdown-item" href="./tour-register.html">Quản Lý Đăng Ký Tour</a>
              </div>
            </li>
          </ul>
        </div>
        <div class="search-icon">
          <span class="fas fa-search"></span></div>
        <div class="cancel-icon">
          <span class="fas fa-times"></span></div>
        <form action="#">
          <input type="search" class="search-data" placeholder="Search" required>
          <button type="submit" class="fas fa-search"></button>
        </form>
      </div>
    </div>
  </header>

  <!-- Content -->
  <div class="container">
    <div class="edit-tour">
      <form id="form" class="form">

        <div class="tour-detail">
          <div class="tour">
            <div class="avt">
              <img id="avtImg" src="../img/mang-den.jpg" alt="Mang den">
              <br>
              <span class="glyphicon glyphicon-camera" title="Upload Avatar"
                onclick="document.getElementById('avtInput').click()"></span>
              <input id="avtInput" type="file" style="display: none;" onchange="uploadAvt(this)">
            </div>

            <div class="tour-id">
              <label>Tour ID</label>
              <br>
              <span>TOUR-ID-001</span>
            </div>

          </div>

          <div class="info tour-name">
            <label for="tour-name">Tên Tour</label>
            <br>
            <textarea id="tour-name" rows="1">Tour Nhà thờ Gỗ Kon Tum - KDL Măng Đen</textarea>
          </div>

          <div class="info tour-location">
            <label for="select-location">Địa điểm</label>
            <br>
            <select name="location" id="select-location">
              <option value="1">Lào Cai</option>
              <option value="2">Hải Phòng</option>
              <option value="3">Đăk Lăk</option>
              <option value="4">Bách Khoa</option>
            </select>
          </div>

          <div class="info type-tour">
            <label for="select-type-tour">Thể loại</label>
            <br>
            <select name="type" id="select-type-tour">
              <option value="1">Du lịch sinh thái</option>
              <option value="2">Du lịch trãi nghiệm</option>
              <option value="3">Du lịch mạo hiểm</option>
              <option value="4">Du lịch cùng người lạ</option>
            </select>
          </div>

          <div class="info timebox">
            <label>Thời gian</label>
            <br>
            <input type="number" id="day" min="0">
            <label for="day">Ngày</label>
            <input type="number" id="night" min="0">
            <label for="night">Đêm</label>
          </div>

          <div class="info summary">
            <div id="summary">
              <label>Summary</label>
              <br>
              <div>
                <textarea rows="1">Nhà thờ gỗ Kon Tum</textarea>
                <button type="button" onclick="deleteSumary(this)">Xóa</button>
              </div>
              <div>
                <textarea rows="1">Nhà thờ gỗ Kon Tum</textarea>
                <button type="button" onclick="deleteSumary(this)">Xóa</button>
              </div>
              <div>
                <textarea rows="1">Nhà thờ gỗ Kon Tum</textarea>
                <button type="button" onclick="deleteSumary(this)">Xóa</button>
              </div>
            </div>
            <button id="add-summary" type="button" onclick="addSumary()">Thêm summary</button>
          </div>

          <div class="info price">
            <label for="price">Giá tiền</label>
            <input id="price" type="number" placeholder="1.480.000" min="0">
            <span style="color: white;">VND</span>
          </div>

          <div class="info status">
            <label for="status">Tình trạng</label>
            <br>
            <select name="status" id="status">
              <option value="1">Đang hoạt động</option>
              <option value="2">Tạm dừng</option>
              <option value="3">Không tổ chức</option>
            </select>
          </div>

          <div class="info description">
            <label for="description">Mô tả</label>
            <br>
            <textarea id="description" rows="3">Tour description</textarea>
          </div>

        </div>

        <div class="detail-images">
          <p>Hình ảnh chi tiết</p>
          <div id="containerImg">
            <div class="image">
              <img src="../img/mang-den.jpg" alt="Detail 1">
              <span class="oi oi-delete" onclick="deleteImg(this)"></span>
            </div>
            <div class="image">
              <img src="../img/mang-den.jpg" alt="Detail 2">
              <span class="oi oi-delete" onclick="deleteImg(this)"></span>
            </div>
            <div class="image">
              <img src="../img/mang-den.jpg" alt="Detail 3">
              <span class="oi oi-delete" onclick="deleteImg(this)"></span>
            </div>
          </div>
          <button type="button" class="btn btn-primary"
            onclick="document.getElementById('uploadImg').click()">Upload</button>
          <input id="uploadImg" type="file" onchange="uploadDetailImage(this);" multiple style="display: none;">
        </div>

        <div class="submit">
          <button id="btnReset" class="btn btn-warning" type="reset" onclick="resetForm()">reset</button>
          <button id="btnSubmit" class="btn btn-success" type="submit">submit</button>
        </div>
      </form>
    </div>
  </div>

  <footer id="main-footer">
    <div class="footer-top-area">
      <div class="row">
        <div class="col-4">
          <hr class="light">
          <h5>ACK travel</h5>
          <hr class="light">
          <p>ACK travel là ứng dụng chuyên cung cấp các tour du lịch trong nước Bắc-Trung-Nam.</p>
        </div>
        <div class="col-4">
          <hr class="light">
          <h5>Khung giờ làm việc</h5>
          <hr class="light">
          <p>Thứ 2 - thứ 7: 8h30 đến 15h30</p>
        </div>
        <div class="col-4">
          <hr class="light">
          <h5>Liên hệ</h5>
          <hr class="light">
          <p>Đại học Bách Khoa - Cơ sở Dĩ An (khu ĐH Quốc Gia, Thủ Đức, TP.HCM)</p>
          <p>Nhà H6</p>
          Contact: <a href="tel:0792828297">079 282 8297</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <hr class="light-bottom">
      <h5>
        Bản quyền thuộc về ACK travel
      </h5>
    </div>
  </footer>>


  <script>

    const statusSelect = document.getElementById("status");
    if (statusSelect.value == 1) {
      statusSelect.style.backgroundColor = "greenyellow"
    }
    else if (statusSelect.value == 2) {
      statusSelect.style.backgroundColor = "yellow"
    }
    else {
      statusSelect.style.backgroundColor = "red"
    }

    statusSelect.onchange = () => {
      if (statusSelect.value == 1) {
        statusSelect.style.backgroundColor = "greenyellow"
      }
      else if (statusSelect.value == 2) {
        statusSelect.style.backgroundColor = "yellow"
      }
      else {
        statusSelect.style.backgroundColor = "red"
      }
    }

    function deleteImg(img) {
      img.parentElement.parentElement.removeChild(img.parentElement);
    }

    function uploadAvt(input) {
      if (input.files && input.files[0]) {
        const reader = new FileReader();
        const avt = document.getElementById('avtImg')

        reader.addEventListener(
          "load",
          function () {
            const src = reader.result;
            avt.src = src;
          },
          false
        );

        reader.readAsDataURL(input.files[0]);
      }
    }

    function uploadDetailImage(input) {
      if (input.files && input.files[0]) {
        for (let idx = 0; idx < input.files.length; idx++) {
          const file = input.files[idx];
          const reader = new FileReader();
          const containerImg = document.getElementById('containerImg');
          let divShowImg = document.createElement('div');
          divShowImg.setAttribute("class", "image")
          let img = document.createElement('img')
          let close = document.createElement("span")
          close.setAttribute("class", "oi oi-delete");
          close.setAttribute("onclick", "deleteImg(this)")

          divShowImg.appendChild(img)
          divShowImg.appendChild(close)
          containerImg.appendChild(divShowImg)

          reader.addEventListener(
            "load",
            function () {
              const src = reader.result;
              img.src = src;

            },
            false
          );

          reader.readAsDataURL(file);

        }
      }
    }

    function deleteSumary(btnContext) {
      btnContext.parentElement.parentElement.removeChild(btnContext.parentElement)
    }

    function addSumary() {
      const container = document.getElementById('summary');
      const div = document.createElement('div');
      const textarea = document.createElement('textarea');
      textarea.setAttribute("rows", "1");
      const btn = document.createElement('button');
      btn.innerText = "Xóa";
      btn.setAttribute("type", "button");
      btn.setAttribute("onclick", "deleteSumary(this)")

      div.appendChild(textarea)
      div.appendChild(btn)

      container.appendChild(div)
    }

    function resetForm() {
      window.location.href = 'edit-tour.html'
    }
  </script>
  <script>
    const menuBtn = document.querySelector(".menu-icon span");
    const searchBtn = document.querySelector(".search-icon");
    const cancelBtn = document.querySelector(".cancel-icon");
    const items = document.querySelector(".nav-items");
    const form = document.querySelector("form");
    menuBtn.onclick = () => {
      items.classList.add("active");
      menuBtn.classList.add("hide");
      searchBtn.classList.add("hide");
      cancelBtn.classList.add("show");
    }
    cancelBtn.onclick = () => {
      items.classList.remove("active");
      menuBtn.classList.remove("hide");
      searchBtn.classList.remove("hide");
      cancelBtn.classList.remove("show");
      form.classList.remove("active");
      cancelBtn.style.color = "#ff3d00";
    }
    searchBtn.onclick = () => {
      form.classList.add("active");
      searchBtn.classList.add("hide");
      cancelBtn.classList.add("show");
    }
  </script>
</body>

</html>